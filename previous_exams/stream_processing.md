#  –ü–æ—Ç–æ—á–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ (—Ç–µ–º–∏ 1,2,3)

### –ó–∞–¥. 1 2016-SE-01

1–î–∞–¥–µ–Ω –µ —Ç–µ–∫—Å—Ç–æ–≤ —Ñ–∞–π–ª —Å –∏–º–µ p h i l i p - j - f r y . t x t . –ù–∞–ø–∏—à–µ—Ç–µ shell script –∏/–∏–ª–∏ —Å–µ—Ä–∏—è –æ—Ç –∫–æ–º–∞–Ω–¥–∏,
–∫–æ–∏—Ç–æ –∏–∑–≤–µ–∂–¥–∞—Ç –±—Ä–æ—è —Ä–µ–¥–æ–≤–µ, —Å—ä–¥—ä—Ä–∂–∞—â–∏ –ø–æ–Ω–µ –µ–¥–Ω–∞ —á–µ—Ç–Ω–∞ —Ü–∏—Ñ—Ä–∞ –∏ –Ω–µ—Å—ä–¥—ä—Ä–∂–∞—â–∏ –º–∞–ª–∫–∞ –ª–∞—Ç–∏–Ω—Å–∫–∞
–±—É–∫–≤–∞ –æ—Ç a –¥–æ w .

–ü—Ä–∏–º–µ—Ä–Ω–æ —Å—ä–¥—ä—Ä–∂–∞–Ω–∏–µ –Ω–∞ —Ñ–∞–π–ª–∞:
````text
123abv23
123zz123
MMU_2.4
–ü—Ä–∏–º–µ—Ä–µ–Ω –∏–∑—Ö–æ–¥:
–ë—Ä–æ—è—Ç –Ω–∞ —Ç—ä—Ä—Å–µ–Ω–∏—Ç–µ —Ä–µ–¥–æ–≤–µ –µ 2
````

````shell
#!/bin/bash

if [[ "${#}" -ne 1 ]]; then
  echo "The script works with one positional argument - path to the file"
  exit 1
fi 

count="$(cat "${1}" | grep -v [a-w] | grep [2,4,6,8] | wc -l)"

echo "The count of wanted lines is: ${count}"

exit 0
````


### –ó–∞–¥. 2 2017-IN-01
–ù–∞–ø–∏—à–µ—Ç–µ —Å–µ—Ä–∏—è –æ—Ç –∫–æ–º–∞–Ω–¥–∏, –∏–∑–≤–µ–∂–¥–∞—â–∏ –Ω–∞ –µ–∫—Ä–∞–Ω–∞ —Å–∞–º–æ –±—Ä–æ—è –Ω–∞ –≤—Å–∏—á–∫–∏ –æ–±–µ–∫—Ç–∏ –≤—ä–≤ —Ñ–∞–π–ª–æ–≤–∞—Ç–∞
—Å–∏—Å—Ç–µ–º–∞, —á–∏–∏—Ç–æ —Å–æ–±—Å—Ç–≤–µ–Ω–∏–∫ –µ —Ç–µ–∫—É—â–∏—è—Ç –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª.

–ó–∞–±–µ–ª–µ–∂–∫–∞: –í—ä–≤ —Ñ–∞–π–ª–æ–≤–∞—Ç–∞ —Å–∏—Å—Ç–µ–º–∞ —Å—ä—Å —Å–∏–≥—É—Ä–Ω–æ—Å—Ç —Å—ä—â–µ—Å—Ç–≤—É–≤–∞—Ç –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏, –¥–æ –∫–æ–∏—Ç–æ –Ω—è–º–∞—Ç–µ –¥–æ—Å—Ç—ä–ø.

````shell
find / -user $(whoami) -print 2>/dev/null | wc -l
# or
find / -uid $(id -u) 2>/dev/null | wc -l
````

### –ó–∞–¥. 3 2017-IN-02 

–ù–∞–ø–∏—à–µ—Ç–µ —Å–µ—Ä–∏—è –æ—Ç –∫–æ–º–∞–Ω–¥–∏, –∫–æ–∏—Ç–æ –∏–∑—Ç—Ä–∏–≤–∞—Ç:

–∞) –≤—Å–∏—á–∫–∏ —Ñ–∞–π–ª–æ–≤–µ –≤ —Ç–µ–∫—É—â–∞—Ç–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –∏ –Ω–µ–π–Ω–∏—Ç–µ –ø–æ–¥–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏, –∫–æ–∏—Ç–æ —Å–∞ —Å –Ω—É–ª–µ–≤–∞ –¥—ä–ª–∂–∏–Ω–∞.

–±) 5-–µ –Ω–∞–π-–≥–æ–ª–µ–º–∏ —Ñ–∞–π–ª–∞ –≤ home –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è—Ç–∞ –Ω–∞ —Ç–µ–∫—É—â–∏—è –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª –∏ –Ω–µ–π–Ω–∏—Ç–µ –ø–æ–¥–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏.

````shell
# a
find . -type f -size 0 | xargs -I {} rm {}
# b
find . -type f -printf "%p|%s\\n" | sort -t "|" -nr -k 2 | head -n 5| awk -F "|" '{print $1} | 'xargs -I {} rm {}
````

### –ó–∞–¥. 4 2017-IN-03 

–ù–∞–ø–∏—à–µ—Ç–µ —Å–µ—Ä–∏—è –æ—Ç –∫–æ–º–∞–Ω–¥–∏, –∫–æ–∏—Ç–æ –æ—Ç —Ñ–∞–π–ª–∞ /etc/passwd –¥–∞ –≤–∑–µ–º–∞—Ç –ø–æ–¥-–Ω–∏–∑, —Å—ä—Å—Ç–æ—è—â —Å–µ
–æ—Ç –≤—Ç–æ—Ä–∞ –∏ —Ç—Ä–µ—Ç–∞ —Ü–∏—Ñ—Ä–∞ –Ω–∞ —Ñ–∞–∫—É–ª—Ç–µ—Ç–Ω–∏—è –Ω–æ–º–µ—Ä –Ω–∞ —Å—Ç—É–¥–µ–Ω—Ç–∏—Ç–µ –æ—Ç —Å–ø–µ—Ü–∏–∞–ª–Ω–æ—Å—Ç –ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∞, —á–∏–∏—Ç–æ
—Ñ–∞–º–∏–ª–∏–∏ –∑–∞–≤—ä—Ä—à–≤–∞—Ç –Ω–∞ ‚Äú–∞‚Äù. –ò–∑–≤–µ–¥–µ—Ç–µ –∫–æ—è –∫–æ–º–±–∏–Ω–∞—Ü–∏—è –æ—Ç —Ü–∏—Ñ—Ä–∏ —Å–µ —Å—Ä–µ—â–∞ –Ω–∞–π-—á–µ—Å—Ç–æ –∏ –∫–æ—è –µ —Ç—è.

````shell
# i will write the solution using out course /etc/passwd
cat /etc/passwd | awk -F':' '{print $1 " " $5 }' | awk -F',' '{print $1}' | cut -c3,4 | sort | uniq -c
````

### –ó–∞–¥. 5 2017-SE-01 
–ù–∞–º–µ—Ä–µ—Ç–µ –∏–º–µ–Ω–∞—Ç–∞ –Ω–∞ —Ç–æ–ø 5 —Ñ–∞–π–ª–æ–≤–µ—Ç–µ –≤ —Ç–µ–∫—É—â–∞—Ç–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è —Å –Ω–∞–π-–º–Ω–æ–≥–æ hardlinks.

````shell
ls -l | sort -rk2 -n | head -n 5 | awk '{print $9}'
````

### –ó–∞–¥. 6 2018-SE-01
–ü—Ä–æ–º–µ–Ω–µ—Ç–µ –ø—Ä–∞–≤–∞—Ç–∞ –Ω–∞ –≤—Å–∏—á–∫–∏ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏, –Ω–∞–º–∏—Ä–∞—â–∏ —Å–µ –Ω—è–∫—ä–¥–µ –≤—ä–≤ –≤–∞—à–∞—Ç–∞ home –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è,
—Ç–∞–∫–∞ —á–µ –¥–∞ —Å—Ç–∞–Ω–∞—Ç —Ç–∞–∫–∏–≤–∞, –∫–∞–∫–≤–∏—Ç–æ –±–∏—Ö–∞ —Å–µ –ø–æ–ª—É—á–∏–ª–∏, –∞–∫–æ –≥–∏ –±—è—Ö—Ç–µ —Å—ä–∑–¥–∞–ª–∏ —Å –º–∞—Å–∫–∞ 0022 .

````shell
find ~/ -type d | xargs -I {} chmod 755 {} 
````

### –ó–∞–¥. 62 2023-SE-03

–ü—Ä–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞ —Ç–µ–∫—Å—Ç–æ–≤–µ —á–µ—Å—Ç–æ —Å–µ –Ω–∞–ª–∞–≥–∞ –¥–∞ –∏–º–∞–º–µ —Å–ø–∏—Å—ä–∫ –æ—Ç –¥—É–º–∏ (–Ω–∞—Ä–µ—á–µ–Ω–∏ ‚Äú—Å—Ç–æ–ø–¥—É–º–∏‚Äù), –∫–æ–∏—Ç–æ —Å–µ —Å—Ä–µ—â–∞—Ç –ø—Ä–µ–∫–∞–ª–µ–Ω–æ —á–µ—Å—Ç–æ –∏ –Ω–µ –Ω–æ—Å—è—Ç —Å—Ç–æ–π–Ω–æ—Å—Ç –∑–∞ –∏–∑—Å–ª–µ–¥–≤–∞–Ω–µ—Ç–æ. –¢–∞–∫–∏–≤–∞ –¥—É–º–∏ —Å–∞ –Ω–∞–ø—Ä–∏–º–µ—Ä
‚Äúyou‚Äù, ‚Äúthen‚Äù, ‚Äúfor‚Äù –∏ —Ç.–Ω.
–ù–∞–ø–∏—à–µ—Ç–µ —Å–∫—Ä–∏–ø—Ç stopword_candidates.sh , –∫–æ–π—Ç–æ –ø—Ä–∏–µ–º–∞ –∫–∞—Ç–æ –∞—Ä–≥—É–º–µ–Ω—Ç –∏–º–µ –Ω–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –∏ –∏–∑–≤–µ–∂–¥–∞
10-—Ç–µ –¥—É–º–∏, –∫–æ–∏—Ç–æ –Ω–∞–π-–º–Ω–æ–≥–æ –∏–∑–≥–ª–µ–∂–¥–∞—Ç –∫–∞—Ç–æ —Å—Ç–æ–ø-–¥—É–º–∏.
- –ó–∞ –¥–∞ –±—ä–¥–µ —Å—Ç–æ–ø-–¥—É–º–∞, —Ç—Ä—è–±–≤–∞ –±—Ä–æ—è—Ç —Ñ–∞–π–ª–æ–≤–µ, –∫–æ–∏—Ç–æ —è —Å—ä–¥—ä—Ä–∂–∞—Ç ‚â• 3 –ø—ä—Ç–∏ –¥–∞ –µ ‚â•
(–æ–±—â–∏—è –±—Ä–æ–π —Ñ–∞–π–ª–æ–≤–µ)/2
- –ï–¥–Ω–∞ –¥—É–º–∞ –µ –ø–æ-–¥–æ–±—ä—Ä –∫–∞–Ω–¥–∏–¥–∞—Ç –æ—Ç –¥—Ä—É–≥–∞, –∞–∫–æ –∏–º–∞ –ø–æ-–≥–æ–ª—è–º –æ–±—â –±—Ä–æ–π —Å—Ä–µ—â–∞–Ω–∏—è –≤—ä–≤ –≤—Å–∏—á–∫–∏ —Ñ–∞–π–ª–æ–≤–µ

–ó–∞–±–µ–ª–µ–∂–∫–∏:
- –ü–æ–¥ ‚Äú–≤—Å–∏—á–∫–∏ —Ñ–∞–π–ª–æ–≤–µ‚Äù –∏–º–∞–º–µ –ø—Ä–µ–¥–≤–∏–¥ –≤—Å–∏—á–∫–∏ –æ–±–∏–∫–Ω–æ–≤–µ–Ω–∏ —Ñ–∞–π–ª–æ–≤–µ –≤ –¥–∞–¥–µ–Ω–∞—Ç–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –∏
–Ω–µ–π–Ω–∏—Ç–µ –ø–æ–¥–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
- –ü–æ–¥ ‚Äú–¥—É–º–∞‚Äù –∏–º–∞–º–µ –ø—Ä–µ–¥–≤–∏–¥ –Ω–µ–ø—Ä–µ–∫—ä—Å–Ω–∞—Ç–∞ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª–Ω–æ—Å—Ç –æ—Ç –ª–∞—Ç–∏–Ω—Å–∫–∏ –±—É–∫–≤–∏ (a-z) - –≤—Å–∏—á–∫–∏
–æ—Å—Ç–∞–Ω–∞–ª–∏ —Å–∏–º–≤–æ–ª–∏ –Ω–µ —Å–∞ —á–∞—Å—Ç –æ—Ç –¥—É–º–∏—Ç–µ
- –ó–∞ —É–ª–µ—Å–Ω–µ–Ω–∏–µ –º–æ–∂–µ –¥–∞ –ø—Ä–∏–µ–º–µ—Ç–µ, —á–µ –≤—ä–≤ —Ñ–∞–π–ª–æ–≤–µ—Ç–µ –Ω—è–º–∞ –≥–ª–∞–≤–Ω–∏ –±—É–∫–≤–∏

````shell
#!/bin/bash

if [[ "${#}" -ne 1 ]]; then
  echo "The script accepts one positional argument."
  exit 1
fi 

if [[ ! -d "${1}" ]]; then
  echo "The first argument should be a dir"
  exit 1
fi 
file_count=0

while read file; do
  file_count=$(("${file_count}"+1))
  $( grep -oE '\b[a-zA-Z]+\b' "${file}" | sort | uniq -c | awk '{if ($1 >= 3) {print $2 " " $1 }}' >> word_count.txt )
  $( cat word_count.txt | awk '{print $1 " " 1}' >> file_count.txt )
done < <(find "${1}" -type f 2>/dev/null)

$(rm "word_count.txt")

half=$(("${file_count}"/2))
echo $( cat file_count.txt | sort -k1 | uniq -c | awk -v c="${half}" '{if ($1 >= c) {print $2 }}' | tail -n 10 )

$(rm "file_count.txt")

exit 0

````

### 61 2023-SE-02

–ó–∞–¥–∞—á–∞—Ç–∞ –≤–∏ –µ –¥–∞ –Ω–∞–ø–∏—à–µ—Ç–µ —Å–∫—Ä–∏–ø—Ç b e n c h m a r k . s h , –∫–æ–π—Ç–æ –∏–∑–º–µ—Ä–≤–∞ —Å—Ä–µ–¥–Ω–æ—Ç–æ –≤—Ä–µ–º–µ –∑–∞ –∏–∑–ø—ä–ª–Ω–µ–Ω–∏–µ –Ω–∞
–¥–∞–¥–µ–Ω–∞ –∫–æ–º–∞–Ω–¥–∞. –ü—ä—Ä–≤–∏—è—Ç –∞—Ä–≥—É–º–µ–Ω—Ç –Ω–∞ —Å–∫—Ä–∏–ø—Ç–∞ –µ —á–∏—Å–ª–æ (–≤—Ä–µ–º–µ –∑–∞ –ø—Ä–æ–≤–µ–∂–¥–∞–Ω–µ –Ω–∞ –µ–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞, –≤
—Å–µ–∫—É–Ω–¥–∏), –∞ –æ—Å—Ç–∞–Ω–∞–ª–∏—Ç–µ –∞—Ä–≥—É–º–µ–Ω—Ç–∏ –Ω–∞ —Å–∫—Ä–∏–ø—Ç–∞ —Å–∞ –∏–∑–º–µ—Ä–≤–∞–Ω–∞—Ç–∞ –∫–æ–º–∞–Ω–¥–∞ –∏ –Ω–µ–π–Ω–∏—Ç–µ –∞—Ä–≥—É–º–µ–Ω—Ç–∏.
–°–∫—Ä–∏–ø—Ç—ä—Ç —Ç—Ä—è–±–≤–∞ –¥–∞ –∏–∑–ø—ä–ª–Ω—è–≤–∞ –ø–æ–¥–∞–¥–µ–Ω–∞—Ç–∞ –∫–æ–º–∞–Ω–¥–∞ –º–Ω–æ–≥–æ–∫—Ä–∞—Ç–Ω–æ, –¥–æ–∫–∞—Ç–æ –∏–∑—Ç–µ—á–µ –ø–æ–¥–∞–¥–µ–Ω–æ—Ç–æ –≤—Ä–µ–º–µ.
–ö–æ–≥–∞—Ç–æ —Ç–æ–≤–∞ —Å–µ —Å–ª—É—á–∏, —Å–∫—Ä–∏–ø—Ç—ä—Ç —Ç—Ä—è–±–≤–∞ –¥–∞ –∏–∑—á–∞–∫–∞ –ø–æ—Å–ª–µ–¥–Ω–æ—Ç–æ –∏–∑–≤–∏–∫–≤–∞–Ω–µ –Ω–∞ –∫–æ–º–∞–Ω–¥–∞—Ç–∞ –¥–∞ –ø—Ä–∏–∫–ª—é—á–∏ –∏ –¥–∞
–∏–∑–≤–µ–¥–µ —Å—ä–æ–±—â–µ–Ω–∏–µ, –æ–ø–∏—Å–≤–∞—â–æ –±—Ä–æ—è –Ω–∞–ø—Ä–∞–≤–µ–Ω–∏ –∏–∑–≤–∏–∫–≤–∞–Ω–∏—è, –æ–±—â–æ—Ç–æ –∏ —Å—Ä–µ–¥–Ω–æ—Ç–æ –≤—Ä–µ–º–µ –∑–∞ –∏–∑–ø—ä–ª–Ω–µ–Ω–∏–µ.
![img.png](img.png)
–ó–∞–±–µ–ª–µ–∂–∫–∏:
- –í—Ä–µ–º–µ–Ω–∞—Ç–∞ —Å–µ –∏–∑–≤–µ–∂–¥–∞—Ç –≤ —Å–µ–∫—É–Ω–¥–∏, —Å —Ç–æ—á–Ω–æ—Å—Ç –¥–≤–∞ –∑–Ω–∞–∫–∞ —Å–ª–µ–¥ –∑–∞–ø–µ—Ç–∞–π–∫–∞—Ç–∞.
- –ü—Ä–∏–µ–º–µ—Ç–µ, —á–µ –≤—Ä–µ–º–µ—Ç–æ –Ω–∞ –∏–∑–ø—ä–ª–Ω–µ–Ω–∏–µ –Ω–∞ —á–∞—Å—Ç–∏—Ç–µ –æ—Ç —Å–∫—Ä–∏–ø—Ç–∞ –∏–∑–≤—ä–Ω –ø–æ–¥–∞–¥–µ–Ω–∞—Ç–∞ –∫–æ–º–∞–Ω–¥–∞ –µ –ø—Ä–µ–Ω–∞–±—Ä–µ–∂–∏–º–æ
–º–∞–ª–∫–æ


````shell
#!/bin/bash

if [ "${#}" -lt 2 ]; then
  echo "Usage: $0 <duration in seconds> <command> [arguments...]"
  exit 1
fi

duration="${1}"
shift #  literally "shifts" all the positional parameters to the left by one
command="${@}"

end_time=$(( $(date +%s) + duration )) # date +%s –∑–∞ –ø–æ–ª—É—á–∞–≤–∞–Ω–µ –Ω–∞ —Ç–µ–∫—É—â–æ—Ç–æ –≤—Ä–µ–º–µ,  date +%s.%N –∑–∞ —Å–µ–∫—É–Ω–¥–∏ –∏ –Ω–∞–Ω–æ—Å–µ–∫—É–Ω–¥–∏
count=0
total_time=0

while [ $(date +%s) -lt $end_time ]; do
  start_time=$(date +%s.%N)
  eval "$command"
  end_time_command=$(date +%s.%N)
  
  runtime=$(echo "$end_time_command - $start_time" | bc) # bc –∑–∞ –∏–∑—á–∏—Å–ª–µ–Ω–∏—è —Å –ø–ª–∞–≤–∞—â–∞ –∑–∞–ø–µ—Ç–∞—è
  total_time=$(echo "$total_time + $runtime" | bc)
  ((count++))
done

if [ $count -gt 0 ]; then
  average_time=$(echo "scale=2; ${total_time} / ${count}" | bc) # scale=2 tells bc to format the result to two decimal places
else
  average_time=0
fi

echo "Ran the command '${command}' ${count} times for a total of $(printf "%.2f" ${total_time}) seconds."
echo "Average runtime: ${average_time} seconds."

exit 0
````

### –ó–∞–¥. 60 2023-SE-01
 See labs/04_05_2024.md


### –ó–∞–¥. 63 2023-SE-04

–ù–∞–ø–∏—à–µ—Ç–µ —Å–∫—Ä–∏–ø—Ç, –∫–æ–π—Ç–æ –æ—Ç–∫—Ä–∏–≤–∞ –µ–¥–Ω–∞–∫–≤–∏ –ø–æ —Å—ä–¥—ä—Ä–∂–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤–µ –≤ –¥–∞–¥–µ–Ω–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –∏ –∏–∑–ø–æ–ª–∑–≤–∞
—Ç–∞–∑–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è, –∑–∞ –¥–∞ –Ω–∞–º–∞–ª–∏ –∑–∞–µ—Ç–æ—Ç–æ –º—è—Å—Ç–æ –Ω–∞ –¥–∏—Å–∫–∞.
–°–∫—Ä–∏–ø—Ç—ä—Ç –ø—Ä–∏–µ–º–∞ –µ–¥–∏–Ω –ø–∞—Ä–∞–º–µ—Ç—ä—Ä ‚Äî –∏–º–µ –Ω–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è. –ü—Ä–∏–º–µ—Ä–Ω–æ –∏–∑–≤–∏–∫–≤–∞–Ω–µ: . /dedup.sh ./my-dir
–°–∫—Ä–∏–ø—Ç—ä—Ç —Ç—Ä—è–±–≤–∞ –¥–∞ –Ω–∞–ø—Ä–∞–≤–∏ –¥–≤–µ –Ω–µ—â–∞:
- –∞–∫–æ –∏–º–∞ —Ñ–∞–π–ª–æ–≤–µ —Å –µ–¥–Ω–∞–∫–≤–æ —Å—ä–¥—ä—Ä–∂–∞–Ω–∏–µ, –¥–∞ –Ω–∞–ø—Ä–∞–≤–∏ —Ç–∞–∫–∞, —á–µ –∏–º–µ–Ω–∞—Ç–∞ –Ω–∞ —Ç–µ–∑–∏ —Ñ–∞–π–ª–æ–≤–µ –¥–∞ —Å–æ—á–∞—Ç
–∫—ä–º –µ–¥–Ω–æ –∏ —Å—ä—â–æ –∫–æ–ø–∏–µ –Ω–∞ —Å—ä–æ—Ç–≤–µ—Ç–Ω–∏—Ç–µ –¥–∞–Ω–Ω–∏
- –¥–∞ –∏–∑–≤–µ–¥–µ —Å—ä–æ–±—â–µ–Ω–∏–µ, —Å—ä–¥—ä—Ä–∂–∞—â–æ —Å–ª–µ–¥–Ω–∞—Ç–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è:
    - –∫–æ–ª–∫–æ –≥—Ä—É–ø–∏ —Ñ–∞–π–ª–æ–≤–µ —Å–∞ –¥–µ–¥—É–ø–ª–∏–∫–∏—Ä–∞–Ω–∏
    - –∫–æ–ª–∫–æ –±–∞–π—Ç–∞ –æ—Ç –º—è—Å—Ç–æ—Ç–æ –Ω–∞ –¥–∏—Å–∫–∞ —Å–µ –µ –æ—Å–≤–æ–±–æ–¥–∏–ª–æ
–ó–∞–±–µ–ª–µ–∂–∫–∏:
- —Å—á–∏—Ç–∞–º–µ, —á–µ —Ü—è–ª–∞—Ç–∞ –¥–∞–¥–µ–Ω–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è —Å–µ –Ω–∞–º–∏—Ä–∞ –≤—ä—Ä—Ö—É –µ–¥–Ω–∞ —Ñ–∞–π–ª–æ–≤–∞ —Å–∏—Å—Ç–µ–º–∞
- –∞–∫–æ –¥–≤–∞ —Ñ–∞–π–ª–∞ –∏–º–∞—Ç –µ–¥–Ω–∞–∫–≤–∏ —Ö–µ—à-—Å—É–º–∏, —Å—á–∏—Ç–∞–º–µ, —á–µ —Å–∞ –µ–¥–Ω–∞–∫–≤–∏ –ø–æ —Å—ä–¥—ä—Ä–∂–∞–Ω–∏–µ

````shell
#!/bin/bash

if [ "$#" -ne 1 ]; then
  echo "Usage: $0 <directory>"
  exit 1
fi

if [ ! -d "$1" ]; then
  echo "The provided argument is not a directory."
  exit 1
fi

directory="$1"
temp_file=$(mktemp)

find "$directory" -type f | while read file; do
  sha256sum "$file" >> "$temp_file"
done

sort "$temp_file" -o "$temp_file" # -o overwrite the existing content 

prev_hash=""
prev_file=""
total_saved=0
dedup_groups=0

while read hash file; do
  if [ "$hash" == "$prev_hash" ]; then
    if [ -n "$prev_file" ]; then # -n the length of the string is non-zero
      filesize=$(stat -c %s "$file")
      rm "$file" && ln "$prev_file" "$file" # remove duplicate and link it to the original
      total_saved=$((total_saved + filesize))
    fi
  else
    prev_file="$file"
    dedup_groups=$((${dedup_groups}+1))
  fi
  prev_hash="${hash}"
done < "$temp_file"

echo "Number of deduplicated groups: $dedup_groups"
echo "Total disk space saved: $total_saved bytes"

rm "$temp_file"
exit 0
````

### –ó–∞–¥. 64 2023-SE-05
–ö–∞–∑–≤–∞–º–µ, —á–µ –∫–æ–º–∞–Ω–¥–∞—Ç–∞ foo –∑–∞–µ–º–∞ –ø–∞–º–µ—Ç ùëã, –∫–æ–≥–∞—Ç–æ ùëã –µ —Å—É–º–∞—Ç–∞ –Ω–∞ –∑–∞–µ—Ç–∞—Ç–∞ —Ñ–∏–∑–∏—á–µ—Å–∫–∞ –ø–∞–º–µ—Ç (rss) –Ω–∞
–≤—Å–∏—á–∫–∏ –ø—Ä–æ—Ü–µ—Å–∏, —á–∏—è—Ç–æ –∫–æ–º–∞–Ω–¥–∞ (comm) –µ foo.
–ù–∞–ø–∏—à–µ—Ç–µ —Å–∫—Ä–∏–ø—Ç, –∫–æ–π—Ç–æ –ø–æ–≥–ª–µ–∂–¥–∞ –ø—Ä–æ—Ü–µ—Å–∏—Ç–µ –Ω–∞ —Å–∏—Å—Ç–µ–º–∞—Ç–∞ –ø—Ä–µ–∑ –µ–¥–Ω–∞ —Å–µ–∫—É–Ω–¥–∞, –¥–æ–∫–∞—Ç–æ —Å–ø—Ä–∞—Ç –¥–∞ —Å—ä—â–µ—Å—Ç–≤—É–≤–∞—Ç
–∫–æ–º–∞–Ω–¥–∏, —á–∏—è—Ç–æ –∑–∞–µ—Ç–∞ –ø–∞–º–µ—Ç –µ –Ω–∞–¥ 65536.
–°–ª–µ–¥ —Ç–æ–≤–∞, —Å–∫—Ä–∏–ø—Ç—ä—Ç —Ç—Ä—è–±–≤–∞ –¥–∞ –∏–∑–≤–µ–¥–µ –≤—Å–∏—á–∫–∏ –∫–æ–º–∞–Ω–¥–∏, –∫–æ–∏—Ç–æ —Å–∞ –∑–∞–µ–º–∞–ª–∏ –ø–∞–º–µ—Ç –Ω–∞–¥ 65536 –≤ –ø–æ–Ω–µ –ø–æ–ª–æ–≤–∏–Ω–∞—Ç–∞
‚Äú–ø–æ–≥–ª–µ–∂–¥–∞–Ω–∏—è‚Äù

````shell
````


### –ó–∞–¥. 65 2023-SE-06
–ù–∞–ø–∏—à–µ—Ç–µ —Å–∫—Ä–∏–ø—Ç, –∫–æ–π—Ç–æ –∫–æ–ø–∏—Ä–∞ —Å–Ω–∏–º–∫–∏ –æ—Ç –¥–∞–¥–µ–Ω–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è (–∫–æ—è—Ç–æ —â–µ –Ω–∞—Ä–∏—á–∞–º–µ —Ñ–æ—Ç–æ–∞–ø–∞—Ä–∞—Ç–∞) –≤
–Ω–æ–≤–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è (–∫–æ—è—Ç–æ —â–µ –Ω–∞—Ä–∏—á–∞–º–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞—Ç–∞), —Å–ø–∞–∑–≤–∞–π–∫–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞.
–°–∫—Ä–∏–ø—Ç—ä—Ç –ø—Ä–∏–µ–º–∞ –ø—ä—Ç–∏—â–∞—Ç–∞ –Ω–∞ –¥–≤–µ—Ç–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –∫–∞—Ç–æ –∞—Ä–≥—É–º–µ–Ω—Ç–∏, –æ—á–∞–∫–≤–∞–π–∫–∏, —á–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞—Ç–∞ –Ω–µ
—Å—ä—â–µ—Å—Ç–≤—É–≤–∞ –∏ —Ç—Ä—è–±–≤–∞ –¥–∞ —è —Å—ä–∑–¥–∞–¥–µ.
–°–Ω–∏–º–∫–∏—Ç–µ —Å–∞ –≤—Å–∏—á–∫–∏ —Ñ–∞–π–ª–æ–≤–µ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è—Ç–∞ –Ω–∞ —Ñ–æ—Ç–æ–∞–ø–∞—Ä–∞—Ç–∞ –∏ –Ω–µ–π–Ω–∏—Ç–µ –ø–æ–¥–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏, —á–∏–∏—Ç–æ
–∏–º–µ–Ω–∞ –∑–∞–≤—ä—Ä—à–≤–∞—Ç –Ω–∞ .jpg. –ü–æ–¥ –¥–∞—Ç–∞ –Ω–∞ —Å–Ω–∏–º–∫–∞ —â–µ –∏–º–∞–º–µ –ø—Ä–µ–¥–≤–∏–¥ –Ω–µ–π–Ω–æ—Ç–æ –≤—Ä–µ–º–µ –Ω–∞ –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è
(mtime).
–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞—Ç–∞ —Ç—Ä—è–±–≤–∞ –¥–∞ —Å–µ —Å—ä—Å—Ç–æ–∏ –æ—Ç –ø–æ–¥–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ —Å –∏–º–µ–Ω–∞ –æ—Ç –≤–∏–¥–∞ 2023-04-20_2023-04-23, –æ–∑–Ω–∞—á–∞–≤–∞—â–∏
–∑–∞—Ç–≤–æ—Ä–µ–Ω–∏ –∏–Ω—Ç–µ—Ä–≤–∞–ª–∏ –æ—Ç –¥–Ω–∏. –°–∫—Ä–∏–ø—Ç—ä—Ç —Ç—Ä—è–±–≤–∞ –¥–∞ —Å—ä–∑–¥–∞–¥–µ —Ç–∞–∫–∏–≤–∞ –ø–æ–¥–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –∏ –¥–∞ —Ä–∞–∑–ø–æ–ª–æ–∂–∏
—Å–Ω–∏–º–∫–∏—Ç–µ –≤ —Ç—è—Ö, —Ç–∞–∫–∞ —á–µ –¥–∞ —Å–∞ –∏–∑–ø—ä–ª–Ω–µ–Ω–∏ —Å–ª–µ–¥–Ω–∏—Ç–µ —Å–≤–æ–π—Å—Ç–≤–∞:
1. –í—Å—è–∫–∞ —Å–Ω–∏–º–∫–∞ —Å–µ –Ω–∞–º–∏—Ä–∞ –≤ —Ç–∞–∫–∞–≤–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è, —á–µ –¥–∞—Ç–∞—Ç–∞ –Ω–∞ —Å–Ω–∏–º–∫–∞—Ç–∞ –¥–∞ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏ –Ω–∞ —Å—ä–æ—Ç–≤–µ—Ç–Ω–∏—è
   –∏–Ω—Ç–µ—Ä–≤–∞–ª –æ—Ç –¥–Ω–∏
2. –ó–∞ –≤—Å–µ–∫–∏ –¥–µ–Ω –æ—Ç –≤—Å–µ–∫–∏ –∏–Ω—Ç–µ—Ä–≤–∞–ª —Å—ä—â–µ—Å—Ç–≤—É–≤–∞ –ø–æ–Ω–µ –µ–¥–Ω–∞ —Å–Ω–∏–º–∫–∞ –æ—Ç —Ç–æ–∑–∏ –¥–µ–Ω –≤ —Ç–æ–∑–∏ –∏–Ω—Ç–µ—Ä–≤–∞–ª
3. –ù—è–º–∞ –ø—Ä–∏–ø–æ–∫—Ä–∏–≤–∞—â–∏ —Å–µ –∏ –¥–æ–ª–µ–ø–µ–Ω–∏ –∏–Ω—Ç–µ—Ä–≤–∞–ª–∏ (–º–µ–∂–¥—É –≤—Å–µ–∫–∏ –¥–≤–∞ —Ä–∞–∑–ª–∏—á–Ω–∏ –∏–Ω—Ç–µ—Ä–≤–∞–ª–∞ –∏–º–∞ –ø–æ–Ω–µ
   –µ–¥–∏–Ω –¥–µ–Ω –±–µ–∑ —Å–Ω–∏–º–∫–∞)
   –û—Ä–∏–≥–∏–Ω–∞–ª–Ω–∏—Ç–µ –∏–º–µ–Ω–∞ –Ω–∞ —Å–Ω–∏–º–∫–∏—Ç–µ –Ω–µ –Ω–∏ –∏–Ω—Ç–µ—Ä–µ—Å—É–≤–∞—Ç: —Å–∫—Ä–∏–ø—Ç—ä—Ç —Ç—Ä—è–±–≤–∞ –¥–∞ –∏–º –¥–∞–¥–µ –Ω–æ–≤–∏ –∏–º–µ–Ω–∞, –∏–∑–ø–æ–ª–∑–≤–∞–π–∫–∏
   —Ç–µ—Ö–Ω–∏—è mtime, —Å —Ñ–æ—Ä–º–∞—Ç, –∏–∑–≥–ª–µ–∂–¥–∞—â —Ç–∞–∫–∞:
  ![img_1.png](img_1.png)

   –ë–æ–Ω—É—Å –∑–∞ –æ—â–µ –Ω—è–∫–æ–ª–∫–æ —Ç–æ—á–∫–∏: –Ω–∞–ø—Ä–∞–≤–µ—Ç–µ —Å–∫—Ä–∏–ø—Ç–∞ —Ç–∞–∫–∞, —á–µ –¥–∞ –º–æ–∂–µ –¥–∞ —Ä–∞–±–æ—Ç–∏ –ø—Ä–∏ –≤–µ—á–µ —Å—ä—â–µ—Å—Ç–≤—É–≤–∞—â–∞
   –±–∏–±–ª–∏–æ—Ç–µ–∫–∞, –¥–æ–±–∞–≤—è–π–∫–∏ —Å–Ω–∏–º–∫–∏—Ç–µ –æ—Ç —Ñ–æ—Ç–æ–∞–ø–∞—Ä–∞—Ç–∞ –∫—ä–º –Ω–µ—è –∏ –∑–∞–ø–∞–∑–≤–∞–π–∫–∏ –≤—Å–∏—á–∫–∏ 

````shell
#!/bin/bash
if [ "$#" -ne 2 ]; then
  echo "Usage: $0 <source directory> <target directory>"
  exit 1
fi

source_dir=$1
target_dir=$2

mkdir -p "$target_dir"

find "${source_dir}" -type f -iname '*.jpg' | while read file; do
  mod_date=$(date -r "$file" '+%Y-%m-%d')
  mod_time=$(date -r "$file" '+%H:%M:%S')
  year=$(echo "$mod_date" | cut -d '-' -f1)
  month=$(echo "$mod_date" | cut -d '-' -f2)
  day=$(echo "$mod_date" | cut -d '-' -f3)

  date_dir="${year}-${month}-${day}"

  mkdir -p "$target_dir/$date_dir"

  new_filename="${mod_date}_${mod_time}.jpg"

  cp "$file" "$target_dir/$date_dir/$new_filename"
done

exit 0
````


### –ó–∞–¥. 54 2021-SE-01
–†–∞–∑–ø–æ–ª–∞–≥–∞—Ç–µ —Å –º–∞—à–∏–Ω–∞, –Ω–∞ –∫–æ—è—Ç–æ –µ –∏–Ω—Å—Ç–∞–ª–∏—Ä–∞–Ω —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–∞–Ω —Å–æ—Ñ—Ç—É–µ—Ä, –∫–æ–π—Ç–æ –ø–æ–ª–∑–≤–∞ –¥–≤–∞ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—Å–∫–∏
–∞–∫–∞—É–Ω—Ç–∞ ‚Äì oracle –∏ grid . –í—Å–µ–∫–∏ –æ—Ç –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–∏—Ç–µ –±–∏ —Ç—Ä—è–±–≤–∞–ª–æ –¥–∞ –∏–º–∞ environment –ø—Ä–æ–º–µ–Ω–ª–∏–≤–∞ ORACLE_HOME,
–∫–æ—è—Ç–æ —É–∫–∞–∑–≤–∞ –∞–±—Å–æ–ª—é—Ç–µ–Ω –ø—ä—Ç –¥–æ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –≤—ä–≤ —Ñ–æ—Ä–º–∞—Ç /path/to/dir. –í –ø–æ–¥-–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è bin –Ω–∞ –∑–∞–¥–∞–¥–µ–Ω–∞—Ç–∞
–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –±–∏ —Ç—Ä—è–±–≤–∞–ª–æ –¥–∞ –∏–º–∞ –∏–∑–ø—ä–ª–Ω–∏–º —Ñ–∞–π–ª —Å –∏–º–µ adrci . –í—Å–µ–∫–∏ –æ—Ç –¥–≤–∞—Ç–∞ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è –∏–º–∞ —Å–æ–±—Å—Ç–≤–µ–Ω–∞
–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è diag_dest, –∫–æ—è—Ç–æ –µ –≤—ä–≤ –≤–∏–¥–∞ /u01/app/–ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª. –ö–æ–≥–∞—Ç–æ –Ω—è–∫–æ–π –æ—Ç –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–∏—Ç–µ –∏–∑–ø—ä–ª–Ω–∏
–Ω–µ–≥–æ–≤–æ—Ç–æ –∫–æ–ø–∏–µ –Ω–∞ –∫–æ–º–∞–Ω–¥–∞—Ç–∞ adrci —Å –ø–∞—Ä–∞–º–µ—Ç—ä—Ä exec="show homes" –º–æ–∂–µ –¥–∞ –ø–æ–ª—É—á–∏ –Ω–∞ STDOUT –µ–¥–∏–Ω
–æ—Ç —Å–ª–µ–¥–Ω–∏—Ç–µ –¥–≤–∞ –∏–∑—Ö–æ–¥–∞:
- –≤–∞—Ä–∏–∞–Ω—Ç 1: (–Ω–µ—É—Å–ø–µ—Ö): No ADR homes are set
- –≤–∞—Ä–∏–∞–Ω—Ç 2: (—É—Å–ø–µ—Ö):

![img_2.png](img_2.png)

–ò –≤ –¥–≤–∞—Ç–∞ —Å–ª—É—á–∞—è –∫–æ–º–∞–Ω–¥–∞—Ç–∞ –ø—Ä–∏–∫–ª—é—á–≤–∞ —Å exit code 0 . –ê–∫–æ –∫–æ–º–∞–Ω–¥–∞—Ç–∞ —Å–µ –∏–∑–ø—ä–ª–Ω–∏ —É—Å–ø–µ—à–Ω–æ, —Ç—è –≤—Ä—ä—â–∞
—Å–ø–∏—Å—ä–∫ —Å –µ–¥–∏–Ω –∏–ª–∏ –ø–æ–≤–µ—á–µ ADR Homes, –∫–æ–∏—Ç–æ —Å–∞ —Ä–µ–ª–∞—Ç–∏–≤–Ω–∏ –∏–º–µ–Ω–∞ –Ω–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ —Å–ø—Ä—è–º–æ diag_dest –Ω–∞
—Å—ä–æ—Ç–≤–µ—Ç–Ω–∏—è—Ç –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª.
–ù–∞–ø–∏—à–µ—Ç–µ —Å–∫—Ä–∏–ø—Ç, –∫–æ–π—Ç–æ –º–æ–∂–µ –¥–∞ —Å–µ –∏–∑–ø—ä–ª–Ω—è–≤–∞ —Å–∞–º–æ –æ—Ç –Ω—è–∫–æ–π –æ—Ç —Ç–µ–∑–∏ –¥–≤–∞ –∞–∫–∞—É–Ω—Ç–∞, –∏ –∏–∑–≤–µ–∂–¥–∞ –Ω–∞ STDOUT —Ä–∞–∑–º–µ—Ä–∞ –≤ –º–µ–≥–∞–±–∞–π—Ç–∏ –∏ –∞–±—Å–æ–ª—é—Ç–Ω–∏—è—Ç –ø—ä—Ç –Ω–∞ –≤—Å–µ–∫–∏ ADR Home.

- –ü—Ä–∏–º–µ—Ä–µ–Ω –∏–∑—Ö–æ–¥:

![img_3.png](img_3.png)

````shell
#!/bin/bash

# the solution will work only for oracle

if [[ "$(whoami)" != "oracle" ]]; then
  echo "This script must be run by 'oracle' user."
  exit 1
fi

ORACLE_HOME=$(echo $ORACLE_HOME)
diag_dest="/u01/app/$(whoami)"

output=$(ORACLE_HOME/bin/adrci exec="show homes")

if [[ $output =~ "No ADR homes are set" ]]; then
  echo "No ADR homes are set"
  exit 0
fi

echo "$output" | grep -v 'ADR Homes' | while read -r line; do # -r prevent treating a backslash (\) as an escape char
  full_path="$diag_dest/$line"
  size_mb=$(du -sm "$full_path" | cut -f1) # -s summarize, -m megabytes
  echo "$size_mb $full_path"
done

exit 0
````

### –ó–∞–¥. 46 2021-SE-03 

–ù–∞–ø–∏—à–µ—Ç–µ shell —Å–∫—Ä–∏–ø—Ç, –∫–æ–π—Ç–æ –ø—Ä–∏–µ–º–∞ –¥–≤–∞ –ø–æ–∑–∏—Ü–∏–æ–Ω–Ω–∏ –ø–∞—Ä–∞–º–µ—Ç—ä—Ä–∞ ‚Äì –∏–º–µ–Ω–∞ –Ω–∞ —Ñ–∞–π–ª–æ–≤–µ.
–ü—Ä–∏–º–µ—Ä–Ω–æ –∏–∑–≤–∏–∫–≤–∞–Ω–µ:

$ ./foo.sh input.bin output.h

–§–∞–π–ª—ä—Ç input.bin –µ –¥–≤–æ–∏—á–µ–Ω —Ñ–∞–π–ª —Å –µ–ª–µ–º–µ–Ω—Ç–∏ uint16_t —á–∏—Å–ª–∞, —Å—ä–∑–¥–∞–¥–µ–Ω –Ω–∞ little-endian –º–∞—à–∏–Ω–∞.
–í–∞—à–∏—è—Ç —Å–∫—Ä–∏–ø—Ç —Ç—Ä—è–±–≤–∞ –¥–∞ –≥–µ–Ω–µ—Ä–∏—Ä–∞ C —Ö–µ–¥—ä—Ä —Ñ–∞–π–ª, –¥–µ—Ñ–∏–Ω–∏—Ä–∞—â –º–∞—Å–∏–≤ —Å –∏–º–µ arr, –∫–æ–π—Ç–æ:
- —Å—ä–¥—ä—Ä–∂–∞ –≤—Å–∏—á–∫–∏ –µ–ª–µ–º–µ–Ω—Ç–∏ –æ—Ç –≤—Ö–æ–¥–Ω–∏—è —Ñ–∞–π–ª;
- –Ω—è–º–∞ —É–∫–∞–∑–∞–Ω–∞ –≥–æ–ª–µ–º–∏–Ω–∞;
- –Ω–µ –ø–æ–∑–≤–æ–ª—è–≤–∞ –ø—Ä–æ–º—è–Ω–∞ –Ω–∞ –¥–∞–Ω–Ω–∏—Ç–µ.
–ì–µ–Ω–µ—Ä–∏—Ä–∞–Ω–∏—è—Ç —Ö–µ–¥—ä—Ä —Ñ–∞–π–ª —Ç—Ä—è–±–≤–∞ –¥–∞:
- —Å—ä–¥—ä—Ä–∂–∞ –∏ uint32_t –ø—Ä–æ–º–µ–Ω–ª–∏–≤–∞ arrN, –∫–æ—è—Ç–æ —É–∫–∞–∑–≤–∞ –≥–æ–ª–µ–º–∏–Ω–∞—Ç–∞ –Ω–∞ –º–∞—Å–∏–≤–∞;
- –±—ä–¥–µ –≤–∞–ª–∏–¥–µ–Ω –∏ –¥–∞ –º–æ–∂–µ –¥–∞ —Å–µ #include-–≤–∞ –±–µ–∑ –ø—Ä–æ–±–ª–µ–º–∏ –æ—Ç C —Ñ–∞–π–ª–æ–≤–µ, –æ—á–∞–∫–≤–∞—â–∏ –¥–∞ ‚Äú–≤–∏–∂–¥–∞—Ç‚Äù
arr –∏ arrN.

–ó–∞ –¥–∞ –µ –≤–∞–ª–∏–¥–µ–Ω –µ–¥–∏–Ω –≤—Ö–æ–¥–µ–Ω —Ñ–∞–π–ª, —Ç–æ–π —Ç—Ä—è–±–≤–∞ –¥–∞ —Å—ä–¥—ä—Ä–∂–∞ –Ω–µ –ø–æ–≤–µ—á–µ –æ—Ç 524288 –µ–ª–µ–º–µ–Ω—Ç–∞.
–ó–∞ —Å–ø—Ä–∞–≤–∫–∞, dump –Ω–∞ —Å—ä–¥—ä—Ä–∂–∞–Ω–∏–µ—Ç–æ –Ω–∞ –ø—Ä–∏–º–µ—Ä–µ–Ω input.bin:
00000000: 5555 5655 5955 5a55 6555 6655 6955 6a55 UUVUYUZUeUfUiUjU
00000010: 9555 9655 9955 9a55 a555 a655 a955 aa55 .U.U.U.U.U.U.U.U

````shell
#!/bin/bash

if [ $# -ne 2 ]; then
    echo "Usage: $0 input.bin output.h"
    exit 1
fi

input_file=$1
output_file=$2

if [ $(stat -c %s "$input_file") -gt $((524288 * 2)) ]; then # 524288 * 2 bites
    echo "Error: input file is too large."
    exit 1
fi

# this is checked with chatgpt; try to find sth better
# Use xxd to dump the binary data in plain hexadecimal format, with 2 bytes per chunk.
# Remove newlines with tr.
# Insert a space between every two characters using sed, preparing each pair of hex digits to be treated as a separate number.
# Convert hexadecimal numbers to decimal with xargs and printf.
numbers=$(xxd -p -c 2 "$input_file" | tr -d '\n' | sed 's/../& /g' | xargs -n 1 printf "%d\n")

echo "const uint16_t arr[] = {" > "$output_file"
echo "$numbers" | xargs | sed 's/ /, /g' >> "$output_file"
echo "};" >> "$output_file"
num_elements=$(echo "$numbers" | wc -w)
echo "const uint32_t arrN = $num_elements;" >> "$output_file"

exit 0
````

### –ó–∞–¥. 45 2021-SE-02

–ï–¥–∏–Ω –æ—Ç —á–µ—Å—Ç–æ –∏–∑–ø–æ–ª–∑–≤–∞–Ω–∏—Ç–µ DNS —Å—ä—Ä–≤—ä—Ä–∏ –µ BIND9, –ø—Ä–∏ –∫–æ–π—Ç–æ –æ–ø–∏—Å–∞–Ω–∏–µ—Ç–æ –Ω–∞ DNS –∑–æ–Ω–∏—Ç–µ –æ–±–∏–∫–Ω–æ–≤–µ–Ω–Ω–æ
—Å—Ç–æ–∏ –≤ —Ç–µ–∫—Å—Ç–æ–≤–∏ —Ñ–∞–π–ª–æ–≤–µ, –Ω–∞—Ä–∏—á–∞–Ω–∏ –∑–æ–Ω–∞–ª–Ω–∏ —Ñ–∞–π–ª–æ–≤–µ. –ó–∞ —É–ª–µ—Å–Ω–µ–Ω–∏–µ, –≤ —Ä–∞–º–∫–∏—Ç–µ –Ω–∞ –∑–∞–¥–∞—á–∞—Ç–∞, —â–µ –ø–æ–ª–∑–≤–∞–º–µ
–æ–ø—Ä–æ—Å—Ç–µ–Ω–æ –æ–ø–∏—Å–∞–Ω–∏–µ –Ω–∞ –∑–æ–Ω–∞–ª–Ω–∏—Ç–µ —Ñ–∞–π–ª–æ–≤–µ.
–ü–æ–¥ whitespace —Ä–∞–∑–±–∏—Ä–∞–º–µ –ø—Ä–æ–∏–∑–≤–æ–ª–Ω–∞ –∫–æ–º–±–∏–Ω–∞—Ü–∏—è –æ—Ç —Ç–∞–±–æ–≤–µ –∏ –∏–Ω—Ç–µ—Ä–≤–∞–ª–∏.
–ü–æ–¥ FQDN —Ä–∞–∑–±–∏—Ä–∞–º–µ –Ω–∏–∑, –∫–æ–π—Ç–æ –∏–º–∞ –¥–æ–ø—É—Å—Ç–∏–º–∏ —Å–∏–º–≤–æ–ª–∏ –º–∞–ª–∫–∏ –ª–∞—Ç–∏–Ω—Å–∫–∏ –±—É–∫–≤–∏, —Ü–∏—Ñ—Ä–∏ –∏ —Ç–æ—á–∫–∞; –Ω–µ
–º–æ–∂–µ –¥–∞ –∑–∞–ø–æ—á–≤–∞ —Å —Ç–æ—á–∫–∞, –Ω–µ –º–æ–∂–µ –¥–∞ –∏–º–∞ –¥–≤–µ –∏–ª–∏ –ø–æ–≤–µ—á–µ —Å—ä—Å–µ–¥–Ω–∏ —Ç–æ—á–∫–∏, –∑–∞–¥—ä–ª–∂–∏—Ç–µ–ª–Ω–æ –∑–∞–≤—ä—Ä—à–≤–∞ —Å
—Ç–æ—á–∫–∞.

–ó–æ–Ω–∞–ª–Ω–∏—Ç–µ —Ñ–∞–π–ª–æ–≤–µ —Å—ä–¥—ä—Ä–∂–∞—Ç —Ä–µ—Å—É—Ä—Å–Ω–∏ –∑–∞–ø–∏—Å–∏, –ø–æ –µ–¥–∏–Ω –Ω–∞ —Ä–µ–¥. –û–±—â–∏—è—Ç –≤–∏–¥ –Ω–∞ –¥–∞–¥–µ–Ω —Ä–µ—Å—É—Ä—Å–µ–Ω –∑–∞–ø–∏—Å e
<–∫–ª—é—á> <TTL> <–∫–ª–∞—Å> <—Ç–∏–ø> <RDATA>, —Ä–∞–∑–¥–µ–ª–µ–Ω–∏ —Å whitespace, –Ω–∞–ø—Ä–∏–º–µ—Ä:

astero.openfmi.net. 3600 IN A 185.117.82.99

–ö—ä–¥–µ—Ç–æ:
- –∫–ª—é—á (astero.openfmi.net.) ‚Äì FQDN
- TTL (3600) ‚Äì —Ü–∏—Ñ—Ä–∏; –ø–æ–ª–µ—Ç–æ –º–æ–∂–µ –¥–∞ –ª–∏–ø—Å–≤–∞
- –∫–ª–∞—Å (IN) - –≥–ª–∞–≤–Ω–∏ –ª–∞—Ç–∏–Ω—Å–∫–∏ –±—É–∫–≤–∏; –∫–ª–∞—Å—ä—Ç –≤–∏–Ω–∞–≥–∏ –µ IN
- —Ç–∏–ø (A) - –≥–ª–∞–≤–Ω–∏ –ª–∞—Ç–∏–Ω—Å–∫–∏ –±—É–∫–≤–∏; –Ω—è–∫–æ–µ –æ—Ç SOA, NS, A, AAAA
- RDATA (185.117.82.99) - –¥–∞–Ω–Ω–∏ –Ω–∞ –∑–∞–ø–∏—Å–∞; —Ä–∞–∑–ª–∏—á–Ω–∏ –∑–∞ —Ä–∞–∑–ª–∏—á–Ω–∏—Ç–µ —Ç–∏–ø–æ–≤–µ —Ä–µ—Å—É—Ä—Å–Ω–∏ –∑–∞–ø–∏—Å–∏;
–≤—Å–∏—á–∫–æ —Å–ª–µ–¥ —Ç–∏–ø–∞ –¥–æ –∫—Ä–∞—è –Ω–∞ —Ä–µ–¥–∞.

–ó–Ω–∞–∫—ä—Ç —Ç–æ—á–∫–∞-–∏-–∑–∞–ø–µ—Ç–∞—è ; –µ –∑–Ω–∞–∫ –∑–∞ –∫–æ–º–µ–Ω—Ç–∞—Ä, –∏ –≤—Å–∏—á–∫–æ —Å–ª–µ–¥ –Ω–µ–≥–æ –¥–æ –∫—Ä–∞—è –Ω–∞ —Ä–µ–¥–∞ —Å–µ –∏–≥–Ω–æ—Ä–∏—Ä–∞.
–í—ä–≤ –≤—Å–µ–∫–∏ –∑–æ–Ω–∞–ª–µ–Ω —Ñ–∞–π–ª —Ç—Ä—è–±–≤–∞ –¥–∞ –∏–º–∞ —Ç–æ—á–Ω–æ –µ–¥–∏–Ω SOA –∑–∞–ø–∏—Å, –∏ —Ç–æ–π —Ç—Ä—è–±–≤–∞ –¥–∞ –µ –ø—ä—Ä–≤–∏—è—Ç –∑–∞–ø–∏—Å –≤—ä–≤
—Ñ–∞–π–ª–∞. –ü—Ä–∏–º–µ—Ä –∑–∞ –µ–¥–Ω–æ—Ä–µ–¥–æ–≤ SOA –∑–∞–ø–∏—Å:

astero.openfmi.net. 3600 IN SOA nimbus.fccf.net .root.fccf.net. 2021041901 86400 7200 3024000 3600
    
RDATA-—Ç–∞ –Ω–∞ SOA –∑–∞–ø–∏—Å —Å–µ —Å—ä—Å—Ç–æ–∏ –æ—Ç –¥–≤–∞ FQDN-–∞ –∏ –ø–µ—Ç —á–∏—Å–ª–∞, —Ä–∞–∑–¥–µ–ª–µ–Ω–∏ —Å whitespace.
–í—ä–ø—Ä–µ–∫–∏, —á–µ –≥–æ—Ä–Ω–æ—Ç–æ –µ –≤–∞–ª–∏–¥–µ–Ω SOA –∑–∞–ø–∏—Å, –∑–∞ –ø—Ä–µ–≥–ª–µ–¥–Ω–æ—Å—Ç –≤ –∑–æ–Ω–∞–ª–Ω–∏—Ç–µ —Ñ–∞–π–ª–æ–≤–µ —á–µ—Å—Ç–æ —Å–µ –ø–æ–ª–∑–≤–∞ —Å–ª–µ–¥–Ω–∏—è—Ç
—Å–∏–Ω—Ç–∞–∫—Å–∏—Å (–º–Ω–æ–≥–æ—Ä–µ–¥–æ–≤ SOA –∑–∞–ø–∏—Å, –µ–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–µ–Ω –Ω–∞ –≥–æ—Ä–Ω–∏—è):

astero.openfmi.net. 3600 IN SOA nimbus.fccf.net .root.fccf.net. (
                                2021041901 ; serial
                                86400      ; refresh
                                7200       ; retry
                                3024000    ; expire
                                3600       ; negative TTL
                                )

—Ç.–µ., –ø–æ—Ä–µ–¥–∏—Ü–∞—Ç–∞ –æ—Ç —á–∏—Å–ª–∞ —Å–µ —Ä–∞–∑–±–∏–≤–∞ –Ω–∞ –Ω—è–∫–æ–ª–∫–æ —Ä–µ–¥–∞, –æ–≥—Ä–∞–¥–µ–Ω–∏ –≤ –æ–±–∏–∫–Ω–æ–≤–µ–Ω–Ω–∏ —Å–∫–æ–±–∏, –∏ –∑–∞ –≤—Å—è–∫–æ —á–∏—Å–ª–æ
—Å–µ —Å–ª–∞–≥–∞ –∫–æ–º–µ–Ω—Ç–∞—Ä –∫–∞–∫–≤–æ –æ–∑–Ω–∞—á–∞–≤–∞.
–ü—ä—Ä–≤–æ—Ç–æ –æ—Ç —Ç–µ–∑–∏ —á–∏—Å–ª–∞ (serial) –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–≤–∞ —Å–µ—Ä–∏–π–Ω–∏—è—Ç –Ω–æ–º–µ—Ä –Ω–∞ –∑–æ–Ω–∞—Ç–∞, –∫–æ–π—Ç–æ —Ç—Ä—è–±–≤–∞ –¥–∞ —Å–µ —É–≤–µ–ª–∏—á–∞–≤–∞
–≤—Å–µ–∫–∏ –ø—ä—Ç, –∫–æ–≥–∞—Ç–æ –Ω–µ—â–æ –≤ –∑–æ–Ω–∞–ª–Ω–∏—è—Ç —Ñ–∞–π–ª —Å–µ –ø—Ä–æ–º–µ–Ω–∏. –ò–∑–∫–ª—é—á–∏—Ç–µ–ª–Ω–æ –≤–∞–∂–Ω–æ –µ —Ç–æ–≤–∞ —á–∏—Å–ª–æ —Å–∞–º–æ –¥–∞
–Ω–∞—Ä–∞—Å—Ç–≤–∞, –∏ –Ω–∏–∫–æ–≥–∞ –¥–∞ –Ω–µ –Ω–∞–º–∞–ª—è–≤–∞.
–ï–¥–∏–Ω –æ—Ç —á–µ—Å—Ç–æ –∏–∑–ø–æ–ª–∑–≤–∞–Ω–∏—Ç–µ —Ñ–æ—Ä–º–∞—Ç–∏ –∑–∞ —Å–µ—Ä–∏–µ–Ω –Ω–æ–º–µ—Ä, –∫–æ–π—Ç–æ –ø–æ–∫–∞–∑–≤–∞ –∫–æ–≥–∞ –µ –Ω–∞—Å—Ç—ä–ø–∏–ª–∞ –ø–æ—Å–ª–µ–¥–Ω–∞—Ç–∞
–ø—Ä–æ–º—è–Ω–∞ –≤ –∑–æ–Ω–∞–ª–Ω–∏—è —Ñ–∞–π–ª –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–≤–∞ —á–∏—Å–ª–æ –≤—ä–≤ –≤–∏–¥–∞ YYYYMMDDTT, —Ç.–µ., —á–µ—Ç–∏—Ä–∏ —Ü–∏—Ñ—Ä–∏ –∑–∞ –≥–æ–¥–∏–Ω–∞,
–¥–≤–µ —Ü–∏—Ñ—Ä–∏ –∑–∞ –º–µ—Å–µ—Ü, –¥–≤–µ —Ü–∏—Ñ—Ä–∏ –∑–∞ –¥–∞—Ç–∞ –∏ –æ—â–µ –¥–≤–µ —Ü–∏—Ñ—Ä–∏ –∑–∞ –ø–æ—Ä–µ–¥–Ω–∞ –ø—Ä–æ–º—è–Ω–∞ –≤ —Ä–∞–º–∫–∏—Ç–µ –Ω–∞ –æ–ø–∏—Å–∞–Ω–∏—è
–¥–µ–Ω. –ó–∞ –ø–æ—Å–ª–µ–¥–Ω–∏—Ç–µ –¥–≤–µ —Ü–∏—Ñ—Ä–∏ (–¢–¢) –∏–º–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –¥–∞ —Å–∞ –æ—Ç 00 –¥–æ 99 (–µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–æ, —Ç–∞–∫–∞ –Ω–µ –º–æ–∂–µ –¥–∞ –∏–º–∞
–ø–æ–≤–µ—á–µ –æ—Ç 100 –ø—Ä–æ–º–µ–Ω–∏ –≤ —Ä–∞–º–∫–∏—Ç–µ –Ω–∞ –µ–¥–∏–Ω –¥–µ–Ω).
–ó–∞ —É–¥–æ–±—Å—Ç–≤–æ –ø—Ä–∏–µ–º–∞–º–µ, —á–µ –∫–æ–Ω–∫—Ä–µ—Ç–µ–Ω —Å–µ—Ä–∏–µ–Ω –Ω–æ–º–µ—Ä (—Ç–æ—á–Ω–∞—Ç–∞ –ø–æ—Ä–µ–¥–∏—Ü–∞ —Ü–∏—Ñ—Ä–∏) —Å–µ —Å—Ä–µ—â–∞ —Å–∞–º–æ –Ω–∞ –µ–¥–Ω–æ
–º—è—Å—Ç–æ –≤ –∑–æ–Ω–∞–ª–Ω–∏—è —Ñ–∞–π–ª.
–ù–∞–ø–∏—à–µ—Ç–µ —à–µ–ª —Å–∫—Ä–∏–ø—Ç, –∫–æ–π—Ç–æ –ø–æ –ø–æ–¥–∞–¥–µ–Ω–∏ –∏–º–µ–Ω–∞ –Ω–∞ –∑–æ–Ω–∞–ª–Ω–∏ —Ñ–∞–π–ª–æ–≤–µ –ø—Ä–æ–º–µ–Ω—è —Å–µ—Ä–∏–π–Ω–∏—è—Ç –Ω–æ–º–µ—Ä –≤
SOA –∑–∞–ø–∏—Å–∞ –Ω–∞ –≤—Å–µ–∫–∏ —Ñ–∞–π–ª –ø–æ —Å–ª–µ–¥–Ω–∏—è—Ç –∞–ª–≥–æ—Ä–∏—Ç—ä–º:
- –∞–∫–æ –¥–∞—Ç–∞—Ç–∞ –≤ —Å–µ—Ä–∏–π–Ω–∏—è—Ç –Ω–æ–º–µ—Ä –µ –ø–æ-—Å—Ç–∞—Ä–∞ –æ—Ç –¥–Ω–µ—à–Ω–∞—Ç–∞, –Ω–æ–≤–∏—è—Ç —Å–µ—Ä–∏–µ–Ω –Ω–æ–º–µ—Ä —Ç—Ä—è–±–≤–∞ –¥–∞ –µ –æ—Ç –≤–∏–¥–∞
–¥–Ω–µ—à–Ω–∞–¥–∞—Ç–∞00
- –∞–∫–æ –¥–∞—Ç–∞—Ç–∞ –≤ —Å–µ—Ä–∏–π–Ω–∏—è—Ç –Ω–æ–º–µ—Ä –µ —Ä–∞–≤–Ω–∞ –Ω–∞ –¥–Ω–µ—à–Ω–∞—Ç–∞, —Å–µ—Ä–∏–π–Ω–∏—è—Ç –Ω–æ–º–µ—Ä —Ç—Ä—è–±–≤–∞ –¥–∞ —Å–µ —É–≤–µ–ª–∏—á–∏ —Å
–µ–¥–∏–Ω–∏—Ü–∞

–í–∞–∂–∞—Ç —Å–ª–µ–¥–Ω–∏—Ç–µ —É—Å–ª–æ–≤–∏—è:
- —Å–∫—Ä–∏–ø—Ç—ä—Ç —Ç—Ä—è–±–≤–∞ –¥–∞ –º–æ–∂–µ –¥–∞ –æ–±—Ä–∞–±–æ—Ç–≤–∞ –∏ –µ–¥–Ω–æ—Ä–µ–¥–æ–≤–∏, –∏ –º–Ω–æ–≥–æ—Ä–µ–¥–æ–≤–∏ SOA –∑–∞–ø–∏—Å–∏
- –∑–∞ –≤—Å–µ–∫–∏ –∑–æ–Ω–∞–ª–µ–Ω —Ñ–∞–π–ª, –∫–æ–π—Ç–æ –Ω–µ –µ —É—Å–ø—è–ª –¥–∞ –æ–±—Ä–∞–±–æ—Ç–∏, —Å–∫—Ä–∏–ø—Ç—ä—Ç —Ç—Ä—è–±–≤–∞ –¥–∞ –≤–∞–¥–∏ —Å—ä–æ–±—â–µ–Ω–∏–µ –∑–∞
  –≥—Ä–µ—à–∫–∞, –∫–æ–µ—Ç–æ –≤–∫–ª—é—á–≤–∞ –∏ –∏–º–µ—Ç–æ –Ω–∞ –∑–æ–Ω–∞–ª–Ω–∏—è —Ñ–∞–π–ª. –°—ä–æ–±—â–µ–Ω–∏—è—Ç–∞ —Ç—Ä—è–±–≤–∞ –¥–∞ —Å–∞ –ª–µ—Å–Ω–æ –æ–±—Ä–∞–±–æ—Ç–≤–∞–µ–º–∏
  —Å –ø–æ–∑–Ω–∞—Ç–∏—Ç–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ –∑–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞ —Ç–µ–∫—Å—Ç

````shell
#!/bin/bash

if [[ $# -eq 0 ]]; then
   echo "Usage: $0 zonefile1 [zonefile2 ...]"
   exit 1
fi

today=$(date +%Y%m%d) 

for file in "$@"; do
    if [[ ! -f "$file" ]];then
      echo "ERROR: File $file not found."
      continue
    fi
      
     # here we assume that the only 10 digit number will be the serial one , we find a better way for finding it
     current_serial=$(grep -Eo '[0-9]{10}' "$file" | head -1)

    if [[ -z "$current_serial" ]]; then
        echo "ERROR: No valid SOA serial number found in $file."
        continue
    fi

    current_date=${current_serial:0:8} # ${variable:start:length} -> extract a substring from $variable.
    revision=${current_serial:8:2}  

    if [ "$current_date" -lt "$today" ]; then
        new_serial="${today}00"
    elif [ "$current_date" -eq "$today" ]; then
        new_revision=$(printf "%02d" $((10#$revision + 1))) # %02 to pad with 0 ;#10 interpret as decimal -> by default bash works with octal
        new_serial="${today}${new_revision}"
    else
        echo "ERROR: SOA serial date is in the future in $file."
        continue
    fi

    sed -i "s/$current_serial/$new_serial/" "$file"
    echo "INFO: Updated SOA serial number in $file to $new_serial."
done

````